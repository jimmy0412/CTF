<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.4.1/purify.min.js"></script>
</head>
<body>
    <article id="container">
    </article>
    <input type="text" id="inputNode" style="width: 100%">

    <script>
        // const div = document.createElement('div')
        // div.innerHTML = '<svg><svg onload=console.log(1)>'
        // console.log(2)
        var todoList = [];
        function render(){
            container.innerHTML = '';
            for(let i = 0; i < todoList.length; i++){
              console.log(todoList)
              let item = todoList[i];
              let tmpNode = document.createElement("label");
              tmpNode.innerHTML = `<input type="checkbox">&nbsp;<code></code>`;
              tmpNode.firstChild.checked = item.checked;
              tmpNode.firstChild.id = i;
              
              tmpNode.lastChild.innerHTML = DOMPurify.sanitize(item.text);
              container.appendChild(tmpNode);
            }
        }
        inputNode.onkeypress = function(e){
            if (e.key === 'Enter') {
              todoList.push({checked: 0, text: inputNode.value});
              render();
              inputNode.value = '';
            }
        };
    </script>
</body>
</html>